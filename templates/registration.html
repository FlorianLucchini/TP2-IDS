{% extends "base.html" %}

{% block css_dinamico_index %}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/registration.css') }}">
{% endblock %}

{% block content %}
    <h1>Formulario de inscripción</h1>

    <form action="{{ url_for('submit_registration') }}" method="post" class="form">

        <!-- Nombre -->
        <div class="form-group">
            <label for="nombre">Nombre completo:</label>
            <input type="text" id="nombre" name="nombre" required minlength="3" maxlength="100">
        </div>

        <!-- Email -->
        <div class="form-group">
            <label for="email">Correo electrónico:</label>
            <input type="email" id="email" name="email" required>
        </div>

        <!-- Teléfono -->
        <div class="form-group">
            <label for="telefono">Teléfono de contacto:</label>
            <input type="tel" id="telefono" name="telefono" pattern="[0-9+ ]{7,15}" placeholder="+54 911 12345678" required>
        </div>

        <!-- Fecha de nacimiento -->
        <div class="form-group">
            <label for="fecha_nacimiento">Fecha de nacimiento:</label>
            <input type="date" id="fecha_nacimiento" name="fecha_nacimiento" required>
        </div>

        <!-- Categoría -->
        <div class="form-group">
            <label for="categoria">Categoría:</label>
            <select id="categoria" name="categoria" required>
                <option value="">-- Selecciona una categoría --</option>
                <option value="1">30K - Distancia Corta</option>
                <option value="2">80K - Distancia Larga</option>
            </select>
        </div>

        <!-- Precio -->
        <div class="form-group">
            <label>Precio de inscripción:</label>
            <p id="precio">Seleccione una categoría para ver el precio</p>
        </div>

        <!-- Género -->
        <div class="form-group">
            <label>Género:</label>
            <input type="radio" id="masculino" name="genero" value="M" required>
            <label for="masculino">Masculino</label>

            <input type="radio" id="femenino" name="genero" value="F" required>
            <label for="femenino">Femenino</label>

            <input type="radio" id="otro" name="genero" value="O" required>
            <label for="otro">Otro</label>
        </div>

        <!-- Deslinde de responsabilidad -->
        <div class="form-group">
            <label for="archivo">Adjuntar deslinde de responsabilidad:</label>
            <input type="file" id="archivo" name="archivo" required>
        </div>

        <!-- Botón -->
        <div class="form-group">
            <button type="submit">Registrarme</button>
        </div>
    </form>

    <script id="costos-data" type="application/json">
        {
            {% for key, modalidad in evento.modalidad_costo.items() %}
                "{{ key }}": "{{ modalidad.valor }}"{% if not loop.last %},{% endif %}
            {% endfor %}
        }
    </script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
{% endblock %}